---
sidebar_position: 1
title: "Whisper Ú©Û’ Ø³Ø§ØªÚ¾ ÙˆØ§Ø¦Ø³ Ú©Ù†Ù¹Ø±ÙˆÙ„"
description: "Jetson Ù¾Ø± OpenAI Whisper Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’ Ø±ÙˆØ¨ÙˆÙ¹ Ú©Ù…Ø§Ù†ÚˆØ² Ú©Û’ Ù„ÛŒÛ’ Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… Ø§Ø³Ù¾ÛŒÚ† Ø±ÛŒÚ©Ú¯Ù†ÛŒØ´Ù†"
---

# ÙˆØ§Ø¦Ø³ Ú©Ù†Ù¹Ø±ÙˆÙ„: Ù‚Ø¯Ø±ØªÛŒ ØªÙ‚Ø±ÛŒØ± Ú©Û’ Ø³Ø§ØªÚ¾ Ø±ÙˆØ¨ÙˆÙ¹ Ú©Ùˆ Ú©Ù…Ø§Ù†ÚˆÙ†Ú¯ Ú©Ø±Ù†Ø§

## ÙˆØ§Ø¦Ø³ Ø§Ù†Ù¹Ø±ÙÛŒØ³ Ø§Ù†Ù‚Ù„Ø§Ø¨

**Ø±ÙˆØ§ÛŒØªÛŒ Ø±ÙˆØ¨ÙˆÙ¹Ú©Ø³ (2020):** Ù¹Ø±Ù…ÛŒÙ†Ù„ Ù…ÛŒÚº Ù¾ÛŒÚ†ÛŒØ¯Û ROS Ú©Ù…Ø§Ù†ÚˆØ² Ù¹Ø§Ø¦Ù¾ Ú©Ø±ÛŒÚº
**Ø¬Ø¯ÛŒØ¯ Ø±ÙˆØ¨ÙˆÙ¹Ú©Ø³ (2024):** Ú©ÛÛŒÚº "Ø±ÙˆØ¨ÙˆÙ¹ØŒ Ú©Ú†Ù† ØµØ§Ù Ú©Ø±Ùˆ" Ø§ÙˆØ± ÛŒÛ Ú©Ø§Ù… Ú©Ø±ØªØ§ ÛÛ’Û”

Ø§Ø³ ØªØ¨Ø¯ÛŒÙ„ÛŒ Ú©Ùˆ ÙØ¹Ø§Ù„ Ú©Ø±Ù†Û’ ÙˆØ§Ù„ÛŒ Ù¾ÛŒØ´ Ø±ÙØª Ù¹ÛŒÚ©Ù†Ø§Ù„ÙˆØ¬ÛŒ **OpenAI Whisper** ÛÛ’ â€” Ø§ÛŒÚ© Ù¹Ø±Ø§Ù†Ø³ÙØ§Ø±Ù…Ø± Ù¾Ø± Ù…Ø¨Ù†ÛŒ Ø§Ø³Ù¾ÛŒÚ† Ø±ÛŒÚ©Ú¯Ù†ÛŒØ´Ù† Ù…Ø§ÚˆÙ„ Ø¬Ø³ Ú©ÛŒ ØªØ±Ø¨ÛŒØª 680,000 Ú¯Ú¾Ù†Ù¹Û’ Ú©Û’ Ú©Ø«ÛŒØ± Ù„Ø³Ø§Ù†ÛŒ Ø¢ÚˆÛŒÙˆ ÚˆÛŒÙ¹Ø§ Ù¾Ø± Ú©ÛŒ Ú¯Ø¦ÛŒ ÛÛ’ØŒ Ø¬Ùˆ 99 Ø²Ø¨Ø§Ù†ÙˆÚº Ù…ÛŒÚº Ø§Ù†Ø³Ø§Ù†ÛŒ Ú©Û’ Ù‚Ø±ÛŒØ¨ Ø¯Ø±Ø³ØªÚ¯ÛŒ Ø­Ø§ØµÙ„ Ú©Ø±ØªØ§ ÛÛ’Û”

:::info Ø­Ù‚ÛŒÙ‚ÛŒ Ø¯Ù†ÛŒØ§ Ú©ÛŒ ØªØ¹ÛŒÙ†Ø§ØªÛŒÛ”
*   **Ù¹ÛŒØ³Ù„Ø§ Ø¢Ù¾Ù¹ÛŒÙ…Ø³** (2024): Ø¢ÙˆØ§Ø² Ø³Û’ Ú©Ù†Ù¹Ø±ÙˆÙ„ Ø´Ø¯Û Ú¯Ú¾Ø±ÛŒÙ„Ùˆ Ù…Ø¹Ø§ÙˆÙ†
*   **Amazon Astro**: Ø§Ù„ÛŒÚ©Ø³Ø§ Ø³Û’ Ú†Ù„Ù†Û’ ÙˆØ§Ù„Ø§ ÛÙˆÙ… Ø±ÙˆØ¨ÙˆÙ¹ Ø¬Ø³ Ù…ÛŒÚº ÙˆØ§Ø¦Ø³ Ù†ÛŒÙˆÛŒÚ¯ÛŒØ´Ù† ÛÛ’Û”
*   **Ø¨ÙˆØ³Ù¹Ù† ÚˆØ§Ø¦Ù†Ø§Ù…Ú©Ø³ Ø§Ø³Ù¾Ø§Ù¹**: Ù…Ø¹Ø§Ø¦Ù†Û Ú©Û’ Ú©Ø§Ù…ÙˆÚº Ú©Û’ Ù„ÛŒÛ’ ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ²
*   **Unitree G1 Humanoid**: Ù‚Ø¯Ø±ØªÛŒ Ø²Ø¨Ø§Ù† Ú©Ø§ Ú©Ø§Ù… Ø§Ù†Ø¬Ø§Ù… Ø¯ÛŒÙ†Ø§

Ø³Ø¨Ú¾ÛŒ Ø´ÙˆØ± Ù…Ú†Ø§Ù†Û’ ÙˆØ§Ù„Û’ Ø­Ù‚ÛŒÙ‚ÛŒ Ø¯Ù†ÛŒØ§ Ú©Û’ Ù…Ø§Ø­ÙˆÙ„ Ù…ÛŒÚº Ù…Ø¶Ø¨ÙˆØ· ØªÙ‚Ø±ÛŒØ± Ú©ÛŒ Ø´Ù†Ø§Ø®Øª Ú©Û’ Ù„ÛŒÛ’ Whisper-class Ù…Ø§ÚˆÙ„Ø² Ù¾Ø± Ø§Ù†Ø­ØµØ§Ø± Ú©Ø±ØªÛ’ ÛÛŒÚºÛ”
:::

---

## Ù…Ú©Ù…Ù„ ÙˆØ§Ø¦Ø³ Ù¹Ùˆ Ø§ÛŒÚ©Ø´Ù† Ù¾Ø§Ø¦Ù¾ Ù„Ø§Ø¦Ù†

```mermaid
sequenceDiagram
    participant U as ØµØ§Ø±Ù
    participant M as ReSpeaker Ù…Ø§Ø¦ÛŒÚ© Ø³Ø±Ù†ÛŒ
    participant VAD as ÙˆØ§Ø¦Ø³ Ø§ÛŒÚ©Ù¹ÛŒÙˆÛŒÙ¹ÛŒ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§
    participant W as Whisper Model (Ø¬ÛŒÙ¹Ø³Ù†)
    participant L as LLM Ù¾Ø§Ø±Ø³Ø±
    participant R as ROS 2 Ú©Ù…Ø§Ù†Úˆ Ù†ÙˆÚˆ
    participant N as Nav2 Ø§Ø³Ù¹ÛŒÚ©
    participant Robot as Ø±ÙˆØ¨ÙˆÙ¹ ÛØ§Ø±Úˆ ÙˆÛŒØ¦Ø±
    
    U->>M: "Ø§Ø±Û’ Ø±ÙˆØ¨ÙˆÙ¹ØŒ Ú©Ú†Ù† Ù…ÛŒÚº Ø¬Ø§Ø¤ Ø§ÙˆØ± Ø³Ø±Ø® Ù¾ÛŒØ§Ù„Ø§ Ø§Ù¹Ú¾Ø§Ø¤"
    M->>M: 4-mic beamforming + Ø´ÙˆØ± Ù…Ù†Ø³ÙˆØ®ÛŒ
    M->>VAD: Ø¢ÚˆÛŒÙˆ Ø¨ÙØ± (3 Ø³ÛŒÚ©Ù†ÚˆØŒ 16kHz)
    VAD->>VAD: ØªÙˆØ§Ù†Ø§Ø¦ÛŒ Ú©ÛŒ Ø­Ø¯ Ú†ÛŒÚ© Ú©Ø±ÛŒÚºÛ”
    alt ØªÙ‚Ø±ÛŒØ± Ú©Ø§ Ù¾ØªÛ Ú†Ù„Ø§
        VAD->>W: Whisper Ú©Ùˆ Ø¢ÚˆÛŒÙˆ Ø¨Ú¾ÛŒØ¬ÛŒÚºÛ”
        W->>W: GPU Ø§Ù†Ø¯Ø§Ø²Û (Ø¬ÛŒÙ¹Ø³Ù† Ø§ÙˆØ±ÛŒÙ† Ù¾Ø± 200ms)
        W->>L: Ù…ØªÙ†: "Ú©Ú†Ù† Ù…ÛŒÚº Ø¬Ø§Ø¤ Ø§ÙˆØ± Ø³Ø±Ø® Ù¾ÛŒØ§Ù„Ø§ Ø§Ù¹Ú¾Ø§Ø¤"
        L->>L: Ø§Ù‚ØªØ¨Ø§Ø³: Ø¹Ù…Ù„ = ØªØ´Ø±ÛŒÙ Ù„Û’ Ø¬Ø§Ø¦ÛŒÚºØŒ Ù…Ù‚Ø§Ù… = Ú©Ú†Ù†ØŒ Ø¢Ø¨Ø¬ÛŒÚ©Ù¹ = Ø³Ø±Ø®_Ù…Ú¯
        L->>R: Ø³Ù¹Ø±Ú©Ú†Ø±Úˆ JSON Ú©Ù…Ø§Ù†Úˆ
        R->>N: /nav_goal (Ú©Ú†Ù† Ú©ÙˆØ¢Ø±ÚˆÛŒÙ†ÛŒÙ¹Ø³)
        N->>Robot: Ù†ÛŒÙˆÛŒÚ¯ÛŒØ´Ù† Ú©ÙˆØ¦
        Robot->>U: "Ú©Ú†Ù† Ú©ÛŒ Ø·Ø±Ù Ø¬Ø§ Ø±ÛÛ’ ÛÛŒÚº..."
    else Ø®Ø§Ù…ÙˆØ´ÛŒ
        VAD->>VAD: Ø¢ÚˆÛŒÙˆ Ø¨ÙØ± Ú©Ùˆ Ø¶Ø§Ø¦Ø¹ Ú©Ø±ÛŒÚºÛ”
    end
    
    Note over W: Whisper "Ø¨Ù†ÛŒØ§Ø¯ÛŒ" Ù…Ø§ÚˆÙ„: Ø¬ÛŒÙ¹Ø³Ù† Ø§ÙˆØ±ÛŒÙ† Ù†ÛŒÙ†Ùˆ Ù¾Ø± 5Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù…
    Note over L: GPT-4 Ù¹Ø±Ø¨Ùˆ 150ms Ù…ÛŒÚº Ø§Ø±Ø§Ø¯Û’ Ú©Ùˆ Ù¾Ø§Ø±Ø³ Ú©Ø±ØªØ§ ÛÛ’Û”
```

**Ú©Ù„ÛŒØ¯ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯Ú¯ÛŒ Ù…ÛŒÙ¹Ø±Ú©Ø³:**
*   **ØªØ§Ø®ÛŒØ±**: 200ms (Whisper) + 150ms (LLM) = 350ms Ú©Ù„ (< Ø§Ù†Ø³Ø§Ù†ÛŒ Ø±Ø¯Ø¹Ù…Ù„ Ú©Ø§ ÙˆÙ‚Øª)
*   **Ø¯Ø±Ø³ØªÚ¯ÛŒ**: 70dB Ø´ÙˆØ± ÙˆØ§Ù„Û’ Ù…Ø§Ø­ÙˆÙ„ Ù…ÛŒÚº 95% ÙˆØ±Úˆ Ø§ÛŒØ±Ø± Ø±ÛŒÙ¹ (WER)
*   **Ø²Ø¨Ø§Ù†ÛŒÚº**: 99 Ù…Ø¹Ø§ÙˆÙ† (Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒØŒ ÛØ³Ù¾Ø§Ù†ÙˆÛŒØŒ Ú†ÛŒÙ†ÛŒØŒ ÛÙ†Ø¯ÛŒØŒ ÙˆØºÛŒØ±Û)
*   **ÛØ§Ø±Úˆ ÙˆÛŒØ¦Ø±**: Jetson Orin Nano (8GB) ÙˆÛØ³Ù¾Ø± "Ø¨ÛŒØ³" Ú©Ùˆ 5Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… Ú†Ù„Ø§ØªØ§ ÛÛ’

---

## ÛØ§Ø±Úˆ ÙˆÛŒØ¦Ø±: ReSpeaker 4-Mic Array v2.0

### ReSpeaker Ú©ÛŒÙˆÚºØŸ

**Ù…Ø¹ÛŒØ§Ø±ÛŒ Ù…Ø§Ø¦Ú©Ø±ÙˆÙÙˆÙ†Ø² Ú©Û’ Ø³Ø§ØªÚ¾ Ù…Ø³Ø¦Ù„Û:**
*   Ø³Û Ø¬ÛØªÛŒ Ú©ÛŒÙ¾Ú†Ø± (ØªÙ…Ø§Ù… Ø´ÙˆØ± Ú©Ùˆ ÛŒÚ©Ø³Ø§Úº Ø·ÙˆØ± Ù¾Ø± Ø§Ù¹Ú¾Ø§ØªØ§ ÛÛ’)
*   Ú©ÙˆØ¦ÛŒ Ø´ÙˆØ± Ù…Ù†Ø³ÙˆØ®ÛŒ Ù†ÛÛŒÚº (Ù…ÙˆÙ¹Ø± Ú©ÛŒ Ø¢ÙˆØ§Ø²ÛŒÚº Ù…Ø¯Ø§Ø®Ù„Øª Ú©Ø±ØªÛŒ ÛÛŒÚº)
*   Ù†Ø§Ù‚Øµ Ø¯ÙˆØ± Ú©ÛŒ Ú©Ø§Ø±Ú©Ø±Ø¯Ú¯ÛŒ (>1m ÙØ§ØµÙ„Û Ù†Ø§Ú©Ø§Ù…)

**ReSpeaker Ø­Ù„:**
*   **4-Ù…Ø§Ø¦ÛŒÚ©Ø±ÙˆÙÙˆÙ† Ø³Ø±Ù†ÛŒ**: 360Â° Ù…Ù‚Ø§Ù…ÛŒ Ú©ÙˆØ±ÛŒØ¬
*   **Ø¨ÛŒÙ… ÙØ§Ø±Ù…Ù†Ú¯**: Ø§Ø³Ù¾ÛŒÚ©Ø± Ú©ÛŒ Ø³Ù…Øª Ù¾Ø± ØªÙˆØ¬Û Ù…Ø±Ú©ÙˆØ² Ú©Ø±ØªØ§ ÛÛ’ØŒ Ø¢Ù Ù…Ø­ÙˆØ± Ø´ÙˆØ± Ú©Ùˆ Ù…Ø³ØªØ±Ø¯ Ú©Ø±ØªØ§ ÛÛ’
*   **ØµÙˆØªÛŒ Ø§ÛŒÚ©Ùˆ Ú©ÛŒÙ†Ø³Ù„ÛŒØ´Ù† (AEC)**: Ø±ÙˆØ¨ÙˆÙ¹ Ú©ÛŒ Ø§Ù¾Ù†ÛŒ Ø¢ÙˆØ§Ø²ÙˆÚº Ú©Ùˆ ÛÙ¹Ø§ØªØ§ ÛÛ’Û”
*   **Ø§ÚˆØ§Ù¾Ù¹ÛŒÙˆ Ø´ÙˆØ± Ø¯Ø¨Ø§Ù†Ø§**: 70dB Ù…Ø§Ø­ÙˆÙ„ Ù…ÛŒÚº Ú©Ø§Ù… Ú©Ø±ØªØ§ ÛÛ’ (ÙˆÛŒÚ©ÛŒÙˆÙ… Ú©Ù„ÛŒÙ†Ø± Ú©ÛŒ Ø³Ø·Ø­)

---

## Jetson Orin Nano Ù¾Ø± ReSpeaker ØªØ±ØªÛŒØ¨ Ø¯ÛŒÙ†Ø§

### Ù…Ø±Ø­Ù„Û 1: ÛØ§Ø±Úˆ ÙˆÛŒØ¦Ø± Ú©Ù†Ú©Ø´Ù†

```bash
# 1. ReSpeaker Ú©Ùˆ Jetson Ù¾Ø± USB 3.0 Ù¾ÙˆØ±Ù¹ Ø³Û’ Ø¬ÙˆÚ‘ÛŒÚºÛ”
# 2. ÚˆÛŒÙˆØ§Ø¦Ø³ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Û’ Ú©ÛŒ ØªØµØ¯ÛŒÙ‚ Ú©Ø±ÛŒÚºÛ”
lsusb | grep "ReSpeaker"
# Ù…ØªÙˆÙ‚Ø¹ Ø¢Ø¤Ù¹ Ù¾Ù¹:
# Bus 001 Device 003: ID 2886:0018 Seeed Technology Inc. ReSpeaker 4 Mic Array (UAC1.0)

# 3. Ø¢ÚˆÛŒÙˆ Ú©Ø§Ø±Úˆ Ù†Ù…Ø¨Ø± Ú†ÛŒÚ© Ú©Ø±ÛŒÚºÛ”
arecord -l
# Ù…ØªÙˆÙ‚Ø¹ Ø¢Ø¤Ù¹ Ù¾Ù¹:
# card 2: Array [ReSpeaker 4 Mic Array (UAC1.0)], device 0: USB Audio [USB Audio]
```

---

### Ù…Ø±Ø­Ù„Û 2: Ø¢ÚˆÛŒÙˆ ÚˆØ±Ø§Ø¦ÛŒÙˆØ± Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºÛ”

```bash
# Ù¾ÛŒÚ©ÛŒØ¬ Ù…ÛŒÙ†ÛŒØ¬Ø± Ú©Ùˆ Ø§Ù¾ ÚˆÛŒÙ¹ Ú©Ø±ÛŒÚºÛ”
sudo apt update && sudo apt upgrade -y

# ALSA Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚº (Ø§ÛŒÚˆÙˆØ§Ù†Ø³Úˆ Ù„ÛŒÙ†Ú©Ø³ Ø³Ø§Ø¤Ù†Úˆ Ø¢Ø±Ú©ÛŒÙ¹ÛŒÚ©Ú†Ø±)
sudo apt install -y alsa-utils alsa-base

# Ø¢ÚˆÛŒÙˆ Ø±ÙˆÙ¹Ù†Ú¯ Ú©Û’ Ù„ÛŒÛ’ PulseAudio Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºÛ”
sudo apt install -y pulseaudio pulseaudio-utils

# Ø§Ø²Ú¯Ø± Ú©ÛŒ Ø¢ÚˆÛŒÙˆ Ù„Ø§Ø¦Ø¨Ø±ÛŒØ±ÛŒØ§Úº Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºÛ”
pip3 install pyaudio soundfile librosa

# ReSpeaker Python SDK Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚº (Ø§Ø®ØªÛŒØ§Ø±ÛŒ Ù„ÛŒÚ©Ù† ØªØ¬ÙˆÛŒØ² Ú©Ø±Ø¯Û)
git clone https://github.com/respeaker/usb_4_mic_array.git
cd usb_4_mic_array
sudo python3 setup.py install
```

---

### Ù…Ø±Ø­Ù„Û 3: Ø¢ÚˆÛŒÙˆ Ø§Ù† Ù¾Ù¹ Ú©Ùˆ ØªØ±ØªÛŒØ¨ Ø¯ÛŒÚºÛ”

```bash
# ReSpeaker Ú©Ùˆ ÚˆÛŒÙØ§Ù„Ù¹ Ø§Ù† Ù¾Ù¹ ÚˆÛŒÙˆØ§Ø¦Ø³ Ú©Û’ Ø·ÙˆØ± Ù¾Ø± Ø³ÛŒÙ¹ Ú©Ø±ÛŒÚºÛ”
sudo nano /etc/asound.conf

# Ø¯Ø±Ø¬ Ø°ÛŒÙ„ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº:
defaults.pcm.card 2
defaults.ctl.card 2

# Ù…Ø­ÙÙˆØ¸ Ú©Ø±ÛŒÚº Ø§ÙˆØ± Ø¨Ø§ÛØ± Ù†Ú©Ù„ÛŒÚº (Ctrl+X, Y, Enter)

# ALSA Ú©Ùˆ Ø¯ÙˆØ¨Ø§Ø±Û Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚºÛ”
sudo alsa force-reload
```

---

### Ù…Ø±Ø­Ù„Û 4: Ù…Ø§Ø¦ÛŒÚ©Ø±ÙˆÙÙˆÙ† Ú©ÛŒ Ø¬Ø§Ù†Ú† Ú©Ø±ÛŒÚºÛ”

```bash
# 16kHz Ù¾Ø± 5 Ø³ÛŒÚ©Ù†Úˆ Ú©ÛŒ Ø¢ÚˆÛŒÙˆ Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ÛŒÚº (Whisper Ú©ÛŒ Ù…Ù‚Ø§Ù…ÛŒ Ø´Ø±Ø­)
arecord -D plughw:2,0 -f S16_LE -r 16000 -c 1 -d 5 test.wav

# Ù¾Ù„Û’ Ø¨ÛŒÚ© Ø±ÛŒÚ©Ø§Ø±ÚˆÙ†Ú¯
aplay test.wav

# Ø¢Ù¾ Ú©Ùˆ Ú©Ù… Ø³Û’ Ú©Ù… Ø´ÙˆØ± Ú©Û’ Ø³Ø§ØªÚ¾ ÙˆØ§Ø¶Ø­ Ø¢ÚˆÛŒÙˆ Ø³Ù†Ù†Ø§ Ú†Ø§ÛØ¦Û’Û”
```

---

## Ø¬ÛŒÙ¹Ø³Ù† Ù¾Ø± OpenAI Whisper Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±Ù†Ø§

### Ø¢Ù¾Ø´Ù† 1: Ù…Ø¹ÛŒØ§Ø±ÛŒ Whisper (Ø³Ø¨ Ø³Û’ Ø¢Ø³Ø§Ù†)

```bash
# Ø§Ù†Ø­ØµØ§Ø±Ø§Øª Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºÛ”
pip3 install openai-whisper

# Ø¢ÚˆÛŒÙˆ Ù¾Ø±ÙˆØ³ÛŒØ³Ù†Ú¯ Ú©Û’ Ù„ÛŒÛ’ FFmpeg Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºÛ”
sudo apt install -y ffmpeg

# Ù…Ø§ÚˆÙ„ ÚˆØ§Ø¤Ù† Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº (Ø§ÛŒÚ© Ø¨Ø§Ø±ØŒ Ø¢Ù¹Ùˆ Ú©ÛŒØ´Úˆ)
python3 -c "import whisper; whisper.load_model('base')"
```

**Jetson Orin Nano Ú©Û’ Ù„ÛŒÛ’ Ù…Ø§ÚˆÙ„ Ú©Ø§ Ù…ÙˆØ§Ø²Ù†Û:**

| Ù…Ø§ÚˆÙ„ | Ù¾ÛŒØ±Ø§Ù…ÛŒÙ¹Ø±Ø² | VRAM | Ø§Ù†Ø¯Ø§Ø²Û Ú©ÛŒ Ø±ÙØªØ§Ø± | Ø¯Ø±Ø³ØªÚ¯ÛŒ (WER) | Ø³ÙØ§Ø±Ø´ Ú©ÛŒØŸ |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **tiny** | 39M | 1 GB | 15Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… | 25% ØºÙ„Ø·ÛŒ | âŒ Ø¨ÛØª ØºÙ„Ø· |
| **base** | 74M | 1 GB | 5Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… | 20% ØºÙ„Ø·ÛŒ | âœ… **Ø¨ÛØªØ±ÛŒÙ† ØªÙˆØ§Ø²Ù†** |
| **small** | 244M | 2 GB | 2Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… | 15% ØºÙ„Ø·ÛŒ | âš ï¸ Ø¢ÛØ³ØªÛ |
| **medium** | 769M | 5 GB | 0.8Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… | 10% ØºÙ„Ø·ÛŒ | âŒ Ø¨ÛØª Ø³Ø³Øª |

**ØªØ¬ÙˆÛŒØ² Ú©Ø±Ø¯Û:** Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… Ø±ÙˆØ¨ÙˆÙ¹Ú©Ø³ Ú©Û’ Ù„ÛŒÛ’ `base` Ù…Ø§ÚˆÙ„ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ÛŒÚº (Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… Ø³Û’ 5 Ú¯Ù†Ø§ ØªÛŒØ² = 1 Ø³ÛŒÚ©Ù†Úˆ Ú©ÛŒ Ø¢ÚˆÛŒÙˆ Ú©Û’ Ù„ÛŒÛ’ 200ms ØªØ§Ø®ÛŒØ±)Û”

---

### Ø¢Ù¾Ø´Ù† 2: ØªÛŒØ² Ø³Ø±Ú¯ÙˆØ´ÛŒ (Ø¨ÛØªØ±ØŒ 4Ã— Ø§Ø³Ù¾ÛŒÚˆ Ø§Ù¾)

```bash
# CTranslate2-optimized Whisper Ø§Ù†Ø³Ù¹Ø§Ù„ Ú©Ø±ÛŒÚºÛ”
pip3 install faster-whisper

# ÛŒÛ Ú©Ù… Ø³Û’ Ú©Ù… Ø¯Ø±Ø³ØªÚ¯ÛŒ Ú©Û’ Ù†Ù‚ØµØ§Ù† Ú©Û’ Ø³Ø§ØªÚ¾ 4Ã— Ø§Ø³Ù¾ÛŒÚˆ Ø§Ù¾ Ú©Û’ Ù„ÛŒÛ’ int8 Ú©ÙˆØ§Ù†Ù¹Ø§Ø¦Ø²ÛŒØ´Ù† Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªØ§ ÛÛ’Û”
```

---

## Ù…Ú©Ù…Ù„ ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ± ROS 2 Ù†ÙˆÚˆ

**ÙØ§Ø¦Ù„: `voice_commander_node.py`**

```python
#!/usr/bin/env python3
"""
ÛÛŒÙˆÙ…Ù†Ø§Ø¦ÛŒÚˆ Ø±ÙˆØ¨ÙˆÙ¹Ø³ Ú©Û’ Ù„ÛŒÛ’ ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ± Ù†ÙˆÚˆ
ReSpeaker Ø³Û’ Ø¢ÚˆÛŒÙˆ Ú©ÛŒÙ¾Ú†Ø± Ú©Ø±ØªØ§ ÛÛ’ â†’ Whisper Ú©Û’ Ø³Ø§ØªÚ¾ Ù†Ù‚Ù„ Ú©Ø±ØªØ§ ÛÛ’ â†’ ROS 2 Ù¾Ø± Ø´Ø§Ø¦Ø¹ Ú©Ø±ØªØ§ ÛÛ’
Ù…ØµÙ†Ù: ÙØ²ÛŒÚ©Ù„ Ø§Û’ Ø¢Ø¦ÛŒ Ú©ÙˆØ±Ø³
ÛØ§Ø±Úˆ ÙˆÛŒØ¦Ø±: Jetson Orin Nano + ReSpeaker 4-Mic Array
"""

import rclpy
from rclpy.node import Node
from std_msgs.msg import String
from geometry_msgs.msg import PoseStamped

import whisper
import pyaudio
import numpy as np
import threading
import queue
import time
import webrtcvad  # Ø¢ÙˆØ§Ø² Ú©ÛŒ Ø³Ø±Ú¯Ø±Ù…ÛŒ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§

class VoiceCommanderNode(Node):
    def __init__(self):
        super().__init__('voice_commander')
        
        # ROS 2 Ù¾Ø¨Ù„Ø´Ø±Ø²
        self.text_pub = self.create_publisher(String, '/voice/transcription', 10)
        self.command_pub = self.create_publisher(String, '/voice/command', 10)
        self.nav_goal_pub = self.create_publisher(PoseStamped, '/nav_goal', 10)
        
        # Whisper Ù…Ø§ÚˆÙ„ Ù„ÙˆÚˆ Ú©Ø±ÛŒÚº (Ø§Ø³Ù¹Ø§Ø±Ù¹ Ø§Ù¾ Ù¾Ø± Ø§ÛŒÚ© Ø¨Ø§Ø± Ú†Ù„ØªØ§ ÛÛ’)
        self.get_logger().info('Loading Whisper "base" model...')
        self.model = whisper.load_model("base", device="cuda")  # GPU Ø§ÛŒÚ©Ø³Ù„Ø±ÛŒØ´Ù†
        self.get_logger().info('âœ“ Whisper model loaded on GPU!')
        
        # Ø¢ÚˆÛŒÙˆ Ú©Ù†ÙÛŒÚ¯Ø±ÛŒØ´Ù†
        self.RATE = 16000  # Whisper Ú©Ùˆ 16kHz Ú©ÛŒ ØªÙˆÙ‚Ø¹ ÛÛ’Û”
        self.CHUNK = 1024  # Ø¢ÚˆÛŒÙˆ Ø¨ÙØ± Ø³Ø§Ø¦Ø² (64ms Ù¹Ú©Ú‘Û’)
        self.RECORD_SECONDS = 3  # 3 Ø³ÛŒÚ©Ù†Úˆ Ú©ÛŒ ÙˆÙ†ÚˆÙˆØ² Ù…ÛŒÚº Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ÛŒÚºÛ”
        self.CHANNELS = 1  # Ù…ÙˆÙ†Ùˆ (ReSpeaker Ø³Û’ Ø¨ÛŒÙ… ÙØ§Ø±Ù…Úˆ Ø¢Ø¤Ù¹ Ù¾Ù¹)
        self.DEVICE_INDEX = 2  # ReSpeaker Ú©Ø§Ø±Úˆ Ø§Ù†ÚˆÛŒÚ©Ø³ (arecord -l Ø³Û’)
        
        # ÙˆØ§Ø¦Ø³ Ø§ÛŒÚ©Ù¹ÛŒÙˆÛŒÙ¹ÛŒ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§ (Ø®Ø§Ù…ÙˆØ´ÛŒ Ú©Ùˆ ÙÙ„Ù¹Ø± Ú©Ø±ØªØ§ ÛÛ’)
        self.vad = webrtcvad.Vad(2)  # Ø¬Ø§Ø±Ø­ÛŒØª: 0 (Ú©Ù… Ø³Û’ Ú©Ù…) Ø³Û’ 3 (Ø³Ø¨ Ø³Û’ Ø²ÛŒØ§Ø¯Û)
        
        # ØªÚ¾Ø±ÛŒÚˆ Ù…Ø­ÙÙˆØ¸ Ù‚Ø·Ø§Ø±ÛŒÚºÛ”
        self.audio_queue = queue.Queue(maxsize=10)  # Ù…ÛŒÙ…ÙˆØ±ÛŒ Ú©Û’ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ùˆ Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±ÛŒÚºÛ”
        
        # Ú©Ø§Ø±Ú©Ø±Ø¯Ú¯ÛŒ Ù…ÛŒÙ¹Ø±Ú©Ø³
        self.transcription_times = []
        
        # Ù¾Ø³ Ù…Ù†Ø¸Ø± Ú©Û’ Ø¯Ú¾Ø§Ú¯Û’ Ø´Ø±ÙˆØ¹ Ú©Ø±ÛŒÚºÛ”
        self.capture_thread = threading.Thread(target=self.capture_audio_loop, daemon=True)
        self.transcribe_thread = threading.Thread(target=self.transcribe_audio_loop, daemon=True)
        
        self.capture_thread.start()
        self.transcribe_thread.start()
        
        self.get_logger().info('ğŸ¤ ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ± ØªÛŒØ§Ø± ÛÛ’! ReSpeaker Ù…ÛŒÚº Ø¨ÙˆÙ„ÛŒÚº...')
    
    def capture_audio_loop(self):
        """ReSpeaker Ù…Ø§Ø¦Ú©Ø±ÙˆÙÙˆÙ† Ø³Û’ Ù…Ø³Ù„Ø³Ù„ Ø¢ÚˆÛŒÙˆ Ú©ÛŒÙ¾Ú†Ø± Ú©Ø±ÛŒÚºÛ”"""
        p = pyaudio.PyAudio()
        
        try:
            # Ø¢ÚˆÛŒÙˆ Ø³Ù¹Ø±ÛŒÙ… Ú©Ú¾ÙˆÙ„ÛŒÚºÛ”
            stream = p.open(
                format=pyaudio.paInt16,  # 16-bit PCM
                channels=self.CHANNELS,
                rate=self.RATE,
                input=True,
                frames_per_buffer=self.CHUNK,
                input_device_index=self.DEVICE_INDEX
            )
            
            self.get_logger().info('âœ“ Ø¢ÚˆÛŒÙˆ Ú©ÛŒÙ¾Ú†Ø± Ø´Ø±ÙˆØ¹ (ReSpeaker Ú©Ø§Ø±Úˆ 2)')
            
            while rclpy.ok():
                # 3 Ø³ÛŒÚ©Ù†Úˆ Ú©ÛŒ Ø¢ÚˆÛŒÙˆ Ø±ÛŒÚ©Ø§Ø±Úˆ Ú©Ø±ÛŒÚºÛ”
                frames = []
                for _ in range(0, int(self.RATE / self.CHUNK * self.RECORD_SECONDS)):
                    data = stream.read(self.CHUNK, exception_on_overflow=False)
                    frames.append(data)
                
                # numpy Ø³Ø±Ù†ÛŒ Ù…ÛŒÚº ØªØ¨Ø¯ÛŒÙ„ Ú©Ø±ÛŒÚºÛ”
                audio_bytes = b''.join(frames)
                audio_int16 = np.frombuffer(audio_bytes, dtype=np.int16)
                audio_float32 = audio_int16.astype(np.float32) / 32768.0  # [-1, 1] Ù¾Ø± Ù†Ø§Ø±Ù…Ù„Ø§Ø¦Ø² Ú©Ø±ÛŒÚº
                
                # Ú†ÛŒÚ© Ú©Ø±ÛŒÚº Ú©Û Ø¢ÛŒØ§ ØªÙ‚Ø±ÛŒØ± Ù…ÙˆØ¬ÙˆØ¯ ÛÛ’ (VAD)
                if self.is_speech(audio_bytes):
                    # Ù¹Ø±Ø§Ù†Ø³Ú©Ø±Ù¾Ø´Ù† Ù‚Ø·Ø§Ø± Ù…ÛŒÚº Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚºÛ”
                    if not self.audio_queue.full():
                        self.audio_queue.put(audio_float32)
                    else:
                        self.get_logger().warn('Ø¢ÚˆÛŒÙˆ Ù‚Ø·Ø§Ø± Ø¨Ú¾Ø±ÛŒ ÛÙˆØ¦ÛŒØŒ Ø¨ÙØ± Ú¯Ø± Ø±ÛÛŒ ÛÛ’Û”')
                
        except Exception as e:
            self.get_logger().error(f'Ø¢ÚˆÛŒÙˆ Ú©ÛŒÙ¾Ú†Ø± Ú©ÛŒ Ø®Ø±Ø§Ø¨ÛŒ: {e}')
        finally:
            stream.stop_stream()
            stream.close()
            p.terminate()
    
    def is_speech(self, audio_bytes):
        """Ø¢ÙˆØ§Ø² Ú©ÛŒ Ø³Ø±Ú¯Ø±Ù…ÛŒ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§: Ú†ÛŒÚ© Ú©Ø±ÛŒÚº Ú©Û Ø¢ÛŒØ§ Ø¢ÚˆÛŒÙˆ Ù…ÛŒÚº ØªÙ‚Ø±ÛŒØ± Ø´Ø§Ù…Ù„ ÛÛ’Û”"""
        # VAD Ú©Ùˆ 10msØŒ 20msØŒ ÛŒØ§ 30ms ÙØ±ÛŒÙ… Ú©ÛŒ Ø¶Ø±ÙˆØ±Øª ÛÙˆØªÛŒ ÛÛ’Û”
        frame_duration_ms = 30
        frame_size = int(self.RATE * frame_duration_ms / 1000)  # 16kHz Ù¾Ø± 480 Ù†Ù…ÙˆÙ†Û’
        
        speech_frames = 0
        total_frames = 0
        
        # Ø¢ÚˆÛŒÙˆ Ú©Ùˆ 30ms Ù¹Ú©Ú‘ÙˆÚº Ù…ÛŒÚº Ù¾Ø±ÙˆØ³ÛŒØ³ Ú©Ø±ÛŒÚºÛ”
        for i in range(0, len(audio_bytes), frame_size * 2):  # 2 Ø¨Ø§Ø¦Ù¹Ø³ ÙÛŒ Ù†Ù…ÙˆÙ†Û
            frame = audio_bytes[i:i + frame_size * 2]
            if len(frame) < frame_size * 2:
                break
            
            try:
                if self.vad.is_speech(frame, self.RATE):
                    speech_frames += 1
            except:
                pass  # Ú©Ù†Ø§Ø±Û’ Ú©Û’ ÙØ±ÛŒÙ…ÙˆÚº Ù¾Ø± VAD Ú©ÛŒ ØºÙ„Ø·ÛŒÙˆÚº Ú©Ùˆ Ù†Ø¸Ø± Ø§Ù†Ø¯Ø§Ø² Ú©Ø±ÛŒÚºÛ”
            
            total_frames += 1
        
        # Ø§Ú¯Ø± >40% ÙØ±ÛŒÙ… Ù…ÛŒÚº ØªÙ‚Ø±ÛŒØ± ÛÙˆØªÛŒ ÛÛ’ØŒ ØªÙˆ Ø¢ÚˆÛŒÙˆ Ù¾Ø±ÙˆØ³ÛŒØ³ Ú©Ø±ÛŒÚºÛ”
        speech_ratio = speech_frames / total_frames if total_frames > 0 else 0
        return speech_ratio > 0.4
    
    def transcribe_audio_loop(self):
        """Whisper Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’ Ù‚Ø·Ø§Ø± Ø³Û’ Ø¢ÚˆÛŒÙˆ Ú©Ùˆ Ù…Ø³Ù„Ø³Ù„ Ù†Ù‚Ù„ Ú©Ø±ÛŒÚºÛ”"""
        while rclpy.ok():
            try:
                # Ø¢ÚˆÛŒÙˆ ÚˆÛŒÙ¹Ø§ Ú©Ø§ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±ÛŒÚº (Ø¨Ù„Ø§Ú© Ú©Ø±Ù†Ø§)
                audio = self.audio_queue.get(timeout=1.0)
                
                # Ù¹Ø±Ø§Ù†Ø³Ú©Ø±Ù¾Ø´Ù† ÙˆÙ‚Øª Ú©ÛŒ Ù¾ÛŒÙ…Ø§Ø¦Ø´ Ú©Ø±ÛŒÚºÛ”
                start_time = time.time()
                
                # Whisper Ú©Û’ Ø³Ø§ØªÚ¾ Ù†Ù‚Ù„ Ú©Ø±ÛŒÚºÛ”
                result = self.model.transcribe(
                    audio,
                    language='en',  # Ø²Ø¨Ø±Ø¯Ø³ØªÛŒ Ø§Ù†Ú¯Ø±ÛŒØ²ÛŒ (Ø¢Ù¹Ùˆ ÚˆÛŒÙ¹ÛŒÚ©Ù¹ Ø³Û’ ØªÛŒØ²)
                    fp16=True,  # 2 Ã— Ø§Ø³Ù¾ÛŒÚˆ Ø§Ù¾ Ú©Û’ Ù„ÛŒÛ’ Ø¢Ø¯Ú¾ÛŒ ØµØ­Øª Ø³Û’ Ù…ØªØ¹Ù„Ù‚
                    task='transcribe',
                    temperature=0.0,  # Ø·Û’ Ø´Ø¯Û Ø¢Ø¤Ù¹ Ù¾Ù¹
                    beam_size=5,  # Ø¯Ø±Ø³ØªÚ¯ÛŒ Ú©Û’ Ù„ÛŒÛ’ Ø¨ÛŒÙ… Ú©ÛŒ ØªÙ„Ø§Ø´
                    best_of=5,
                    condition_on_previous_text=False  # Ø³ÛŒØ§Ù‚ Ùˆ Ø³Ø¨Ø§Ù‚ Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ù†Û Ú©Ø±ÛŒÚº (ØªÛŒØ²)
                )
                
                elapsed = time.time() - start_time
                self.transcription_times.append(elapsed)
                
                # Ù…ØªÙ† Ù†Ú©Ø§Ù„ÛŒÚºÛ”
                text = result['text'].strip().lower()
                
                # Ø®Ø§Ù„ÛŒ ÛŒØ§ Ø¨ÛØª Ú†Ú¾ÙˆÙ¹ÛŒ Ù†Ù‚Ù„ÙˆÚº Ú©Ùˆ Ù†Ø¸Ø± Ø§Ù†Ø¯Ø§Ø² Ú©Ø±ÛŒÚºÛ”
                if len(text) < 5:
                    continue
                
                # Ù„Ø§Ú¯ Ù¹Ø±Ø§Ù†Ø³Ú©Ø±Ù¾Ø´Ù†
                avg_time = np.mean(self.transcription_times[-10:])  # Ø±ÙˆÙ„Ù†Ú¯ Ø§ÙˆØ³Ø·
                self.get_logger().info(f'ğŸ¯ Heard: "{text}" ({elapsed:.2f}s, avg: {avg_time:.2f}s)')
                
                # Ø®Ø§Ù… Ù¹Ø±Ø§Ù†Ø³Ú©Ø±Ù¾Ø´Ù† Ø´Ø§Ø¦Ø¹ Ú©Ø±ÛŒÚºÛ”
                text_msg = String()
                text_msg.data = text
                self.text_pub.publish(text_msg)
                
                # Ù¾Ø§Ø±Ø³ Ú©Ù…Ø§Ù†Úˆ
                command = self.parse_command(text)
                if command:
                    cmd_msg = String()
                    cmd_msg.data = command
                    self.command_pub.publish(cmd_msg)
                    self.get_logger().info(f'âœ… Command: {command}')
                
            except queue.Empty:
                continue  # Ù‚Ø·Ø§Ø± Ù…ÛŒÚº Ú©ÙˆØ¦ÛŒ Ø¢ÚˆÛŒÙˆ Ù†ÛÛŒÚºØŒ Ø§Ù†ØªØ¸Ø§Ø± Ú©Ø±ØªÛ’ Ø±ÛÛŒÚº
            except Exception as e:
                self.get_logger().error(f'Transcription error: {e}')
    
    def parse_command(self, text):
        """Ù‚Ø¯Ø±ØªÛŒ Ø²Ø¨Ø§Ù† Ú©Û’ Ù…ØªÙ† Ø³Û’ Ø±ÙˆØ¨ÙˆÙ¹ Ú©Ù…Ø§Ù†Úˆ Ù†Ú©Ø§Ù„ÛŒÚºÛ”"""
        # Ù†ÛŒÙˆÛŒÚ¯ÛŒØ´Ù† Ú©Ù…Ø§Ù†ÚˆØ²
        if any(word in text for word in ['go to', 'navigate to', 'move to', 'head to']):
            if 'kitchen' in text:
                return 'navigate:kitchen'
            elif 'bedroom' in text or 'bed room' in text:
                return 'navigate:bedroom'
            elif 'living room' in text or 'livingroom' in text:
                return 'navigate:living_room'
            elif 'bathroom' in text or 'bath room' in text:
                return 'navigate:bathroom'
            elif 'garage' in text:
                return 'navigate:garage'
        
        # ÛÛŒØ±Ø§ Ù¾Ú¾ÛŒØ±ÛŒ Ú©Û’ Ø§Ø­Ú©Ø§Ù…Ø§Øª
        if any(word in text for word in ['pick up', 'grab', 'grasp', 'get', 'fetch']):
            if 'mug' in text or 'cup' in text:
                return 'grasp:mug'
            elif 'bottle' in text:
                return 'grasp:bottle'
            elif 'phone' in text:
                return 'grasp:phone'
            elif 'keys' in text or 'key' in text:
                return 'grasp:keys'
        
        # Ø§ÛŒÙ…Ø±Ø¬Ù†Ø³ÛŒ Ú©Ù…Ø§Ù†ÚˆØ² Ú©Ùˆ Ø±ÙˆÚ©ÛŒÚºÛ”
        if any(word in text for word in ['stop', 'halt', 'freeze', 'wait', 'pause']):
            return 'emergency_stop'
        
        # Ø§Ø­Ú©Ø§Ù…Ø§Øª Ù¾Ø± Ø¹Ù…Ù„ Ú©Ø±ÛŒÚº
        if 'follow me' in text or 'come with me' in text:
            return 'follow:human'
        
        # Ø­ÛŒØ«ÛŒØª Ø§Ø³ØªÙØ³Ø§Ø±
        if any(word in text for word in ['status', 'how are you', 'battery', 'health']):
            return 'query:status'
        
        return None  # ØºÛŒØ± ØªØ³Ù„ÛŒÙ… Ø´Ø¯Û Ú©Ù…Ø§Ù†Úˆ

def main(args=None):
    rclpy.init(args=args)
    node = VoiceCommanderNode()
    
    try:
        rclpy.spin(node)
    except KeyboardInterrupt:
        node.get_logger().info('Shutting down voice commander...')
    finally:
        node.destroy_node()
        rclpy.shutdown()

if __name__ == '__main__':
    main()
```

---

## ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ± Ú©Ùˆ Ú†Ù„Ø§Ù†Ø§

### Ù¹Ø±Ù…ÛŒÙ†Ù„ 1: ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ± Ù„Ø§Ù†Ú† Ú©Ø±ÛŒÚºÛ”

```bash
# Ø§Ø³Ú©Ø±Ù¾Ù¹ Ú©Ùˆ Ù‚Ø§Ø¨Ù„ Ø¹Ù…Ù„ Ø¨Ù†Ø§Ø¦ÛŒÚº
chmod +x voice_commander_node.py

# Ù†ÙˆÚˆ Ú†Ù„Ø§Ø¦ÛŒÚº
python3 voice_commander_node.py

# Ù…ØªÙˆÙ‚Ø¹ Ø¢Ø¤Ù¹ Ù¾Ù¹:
# [INFO] Loading Whisper "base" model...
# [INFO] âœ“ Whisper model loaded on GPU!
# [INFO] âœ“ Audio capture started (ReSpeaker card 2)
# [INFO] ğŸ¤ Voice Commander ready! Speak into ReSpeaker...
```

---

### Ù¹Ø±Ù…ÛŒÙ†Ù„ 2: Ù¹Ø±Ø§Ù†Ø³Ú©Ø±Ù¾Ø´Ù†Ø² Ú©ÛŒ Ù†Ú¯Ø±Ø§Ù†ÛŒ Ú©Ø±ÛŒÚºÛ”

```bash
# Ø®Ø§Ù… Ù¹Ø±Ø§Ù†Ø³Ú©Ø±Ù¾Ø´Ù† Ø³Ù†ÛŒÚºÛ”
ros2 topic echo /voice/transcription

# Ø¬Ø¨ Ø¢Ù¾ Ú©ÛØªÛ’ ÛÛŒÚº "Ú©Ú†Ù† Ù…ÛŒÚº Ø¬Ø§Ø¦ÛŒÚº":
# data: 'go to the kitchen'
```

---

### Ù¹Ø±Ù…ÛŒÙ†Ù„ 3: Ø§Ø­Ú©Ø§Ù…Ø§Øª Ú©ÛŒ Ù†Ú¯Ø±Ø§Ù†ÛŒ Ú©Ø±ÛŒÚºÛ”

```bash
# Ù¾Ø§Ø±Ø³ Ø´Ø¯Û Ú©Ù…Ø§Ù†ÚˆØ² Ø³Ù†ÛŒÚºÛ”
ros2 topic echo /voice/command

# Ø¢Ø¤Ù¹ Ù¾Ù¹:
# data: 'navigate:kitchen'
```

---

## Ú©Ø§Ø±Ú©Ø±Ø¯Ú¯ÛŒ Ø¨ÛŒÙ†Ú† Ù…Ø§Ø±Ú©Ø³

**ÛØ§Ø±Úˆ ÙˆÛŒØ¦Ø±:** NVIDIA Jetson Orin Nano (8GB RAM, 1024 CUDA cores)

| Ù…Ø§ÚˆÙ„ | Ø§Ù†Ø¯Ø§Ø²Û Ú©Ø§ ÙˆÙ‚Øª | Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… ÙÛŒÚ©Ù¹Ø± | Ø¯Ø±Ø³ØªÚ¯ÛŒ (WER) | VRAM Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ |
| :--- | :--- | :--- | :--- | :--- |
| **tiny** | 66ms | 15Ã— | 25% | 0.8 GB |
| **base** | 200ms | 5Ã— | 20% | 1.2 GB |
| **small** | 500ms | 2Ã— | 15% | 2.1 GB |
| **medium** | 1250ms | 0.8Ã— | 10% | 4.8 GB |

**Ø³ÙØ§Ø±Ø´:** `base` Ù…Ø§ÚˆÙ„ Ø¨ÛØªØ±ÛŒÙ† ØªÙˆØ§Ø²Ù† ÙØ±Ø§ÛÙ… Ú©Ø±ØªØ§ ÛÛ’ (200ms ØªØ§Ø®ÛŒØ± = Ø§Ù†Ø³Ø§Ù†ÙˆÚº Ú©Û’ Ù„ÛŒÛ’ Ù†Ø§Ù‚Ø§Ø¨Ù„ ØªØµÙˆØ±ØŒ 20% WER = 80% Ø¯Ø±Ø³ØªÚ¯ÛŒ)Û”

---

## Ø§Ø¹Ù„ÛŒ Ø¯Ø±Ø¬Û’ Ú©ÛŒ: Porcupine Ú©Û’ Ø³Ø§ØªÚ¾ ÙˆÛŒÚ© ÙˆØ±Úˆ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§

**Ù…Ø³Ø¦Ù„Û:** Ø±ÙˆØ¨ÙˆÙ¹ ÛÙ…ÛŒØ´Û Ø³Ù†Ù†Û’ Ø³Û’ Ø·Ø§Ù‚Øª Ø¶Ø§Ø¦Ø¹ ÛÙˆØªÛŒ ÛÛ’ Ø§ÙˆØ± ØºÙ„Ø· Ø§ÛŒÚ©Ù¹ÛŒÙˆÛŒØ´Ù† Ú©Ø§ Ø³Ø¨Ø¨ Ø¨Ù†ØªÛŒ ÛÛ’Û”

**Ø­Ù„:** "Hey Robot" ÙˆÛŒÚ© ÙˆØ±Úˆ Ù¹Ø±Ú¯Ø± Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚºÛ”

---

## ÛÛŒÙ†Úˆ Ø¢Ù† ÙˆØ±Ø²Ø´: Ú©Ø«ÛŒØ± Ø²Ø¨Ø§Ù† Ú©ÛŒ Ù…Ø¯Ø¯

**Ú†ÛŒÙ„Ù†Ø¬:** ÛØ³Ù¾Ø§Ù†ÙˆÛŒ Ø²Ø¨Ø§Ù† Ú©ÛŒ Ù…Ø¯Ø¯ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚºÛ”

---

## Ú©Ù„ÛŒØ¯ÛŒ Ù¹ÛŒÚ©Ø§ ÙˆÛŒØ² (Key Takeaways)

âœ… **OpenAI Whisper** Ø±ÙˆØ¨ÙˆÙ¹ ÙˆØ§Ø¦Ø³ Ú©Ù…Ø§Ù†ÚˆØ² Ù¾Ø± 80% Ø¯Ø±Ø³ØªÚ¯ÛŒ (20% WER) Ø­Ø§ØµÙ„ Ú©Ø±ØªØ§ ÛÛ’
âœ… **ReSpeaker 4-Mic Array** Ø¨ÛŒÙ… ÙØ§Ø±Ù…Ù†Ú¯ ($69) Ú©Û’ Ø³Ø§ØªÚ¾ 5m Ø±ÛŒÙ†Ø¬ ÙØ±Ø§ÛÙ… Ú©Ø±ØªØ§ ÛÛ’
âœ… **Jetson Orin Nano** ÙˆÛØ³Ù¾Ø± "Ø¨ÛŒØ³" Ú©Ùˆ 5Ã— Ø±ÛŒØ¦Ù„ Ù¹Ø§Ø¦Ù… (200ms ØªØ§Ø®ÛŒØ±) Ù¾Ø± Ú†Ù„Ø§ØªØ§ ÛÛ’
âœ… **ÙˆØ§Ø¦Ø³ Ø§ÛŒÚ©Ù¹ÛŒÙˆÛŒÙ¹ÛŒ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§** ØºÙ„Ø· Ù…Ø«Ø¨Øª Ú©Ùˆ 90% ØªÚ© Ú©Ù… Ú©Ø±ØªØ§ ÛÛ’
âœ… **ROS 2 Ø§Ù†Ø¶Ù…Ø§Ù…** `/voice/transcription` Ø§ÙˆØ± `/voice/command` Ù¾Ø± Ø´Ø§Ø¦Ø¹ Ú©Ø±ØªØ§ ÛÛ’
âœ… **ÙˆÛŒÚ© ÙˆØ±Úˆ Ú©Ø§ Ù¾ØªÛ Ù„Ú¯Ø§Ù†Ø§** Ø¨Ø¬Ù„ÛŒ Ø¨Ú†Ø§ØªØ§ ÛÛ’ Ø§ÙˆØ± Ø­Ø§Ø¯Ø«Ø§ØªÛŒ Ù…Ø­Ø±Ú©Ø§Øª Ú©Ùˆ Ø±ÙˆÚ©ØªØ§ ÛÛ’

---

## Ø§Ú¯Ù„Ø§ Ú©ÛŒØ§ ÛÛ’ØŸ

Ø¢Ù¾ Ù†Û’ Ø¢ÙˆØ§Ø² Ú©Ø§ Ø§Ù† Ù¾Ù¹ Ø¨Ù†Ø§ÛŒØ§ ÛÛ’Û” Ø§Ú¯Ù„Ø§ Ø¨Ø§Ø¨ **LLMs Ú©Û’ Ø³Ø§ØªÚ¾ Ø¹Ù„Ù…ÛŒ Ù…Ù†ØµÙˆØ¨Û Ø¨Ù†Ø¯ÛŒ (cognitive planning)** Ú©Ø§ Ø§Ø­Ø§Ø·Û Ú©Ø±ØªØ§ ÛÛ’ â€” "Ú©Ú†Ù† ØµØ§Ù Ú©Ø±Ùˆ" Ú©Ùˆ Ù…Ù„Ù¹ÛŒ Ø³Ù¹ÛŒÙ¾ Ø§ÛŒÚ©Ø´Ù† Ú©ÛŒ ØªØ±ØªÛŒØ¨ Ù…ÛŒÚº Ú©ÛŒØ³Û’ ØªØ¨Ø¯ÛŒÙ„ Ú©ÛŒØ§ Ø¬Ø§Ø¦Û’: [Navigate â†’ Perceive â†’ Grasp â†’ Place] GPT-4 Ø§ÙˆØ± LangChain Ú©Ø§ Ø§Ø³ØªØ¹Ù…Ø§Ù„ Ú©Ø±ØªÛ’ ÛÙˆØ¦Û’Û”

---

## Ù…Ø²ÛŒØ¯ Ù¾Ú‘Ú¾Ù†Ø§

*   [OpenAI Whisper Paper (2022)](https://arxiv.org/abs/2212.04356)
*   [Faster-Whisper GitHub](https://github.com/guillaumekln/faster-whisper)
*   [ReSpeaker Documentation](https://wiki.seeedstudio.com/ReSpeaker_Mic_Array_v2.0/)
*   [WebRTC VAD Library](https://github.com/wiseman/py-webrtcvad)
*   [Porcupine Wake Word Engine](https://picovoice.ai/platform/porcupine/)
*   [Jetson Orin Benchmarks](https://developer.nvidia.com/embedded/jetson-benchmarks)
